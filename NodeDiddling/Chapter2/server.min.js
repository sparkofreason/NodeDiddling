var http=require("http"),fs=require("fs"),querystring=require("querystring"),util=require("util"),maxData=2097152,form=fs.readFileSync("form.html");http.createServer(function(n,t){if(n.method==="GET")t.writeHead(200,{"Content-type":"text/html"}),t.end(form);else if(n.method==="POST"){var i="";n.on("data",function(n){i+=n,i.length>maxData&&(i="",this.pause(),t.writeHead(403),t.end("Too large"))});n.on("end",function(){if(!i){t.end();return}var n=querystring.parse(i);console.log("User Posted:\n",i),t.end("You posted:\n"+util.inspect(n))})}}).listen(8080)